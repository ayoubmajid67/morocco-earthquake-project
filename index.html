<!DOCTYPE html>
<html lang="en">
  <head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-NCL7YREKSW"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-NCL7YREKSW');
</script>
    
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link  rel="stylesheet"href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/3.5.0/remixicon.css"integrity="sha512-HXXR0l2yMwHDrDyxJbrMD9eLvPe3z3qL3PPeozNTsiHJEENxx8DH2CxmV05iwG0dwoz5n4gQZQyYLUNt1Wdgfg=="crossorigin="anonymous" referrerpolicy="no-referrer" />
   <link rel="stylesheet" href="style.css">
    <title>Morocco Earthquake Tracker</title>
    <!-- Google tag (gtag.js) -->

  </head>
  <body>
    <div class="title">
      <h1>Morocco Earthquake Tracker</h1>
      <h1>متتبع الزلازل في المغرب</h1>
    </div>
    <div class="tracker">
      <div class="death-box">
        <div class="title-box">
          <h3>Death</h3>
          <h3>الوفيات</h3>
        </div>
        <div class="Number-box">
          <h2 id="death-number">2901</h2>
        </div>
      </div>
      <div class="injured-box">
        <div class="title-box">
          <h3>Injured</h3>
          <h3>الجرحى</h3>
        </div>
        <div class="Number-box">
          <h2 id="injured-number">5,530</h2>
        </div>
      </div>
    </div>
    <div class="about">
      <h3>About</h3>
      <p>
        The death toll from a powerful earthquake that hit Morocco’s Atlas
        Mountains region late on Friday has risen to 2,122. The magnitude 6.8
        earthquake struck at about 11:11pm (22:11 GMT) at a depth of nearly 26km
        (16 miles), according to the US Geological Survey. The depth was
        initially reported at about 18km.
      </p>
    </div>
    <div class="footer">
      <ul>
        <a href="https://rocmine.net/" target="_blank">RCm<i class="ri-pages-line"></i ></a>
        <a href="https://www.linkedin.com/in/ayoub-majid-9285a0240/"target="_blank">Majid<i class="ri-pages-line"></i ></a>
      </ul>
    </div>
   <script>

   


const deathNumber = document.getElementById('death-number');
const injuredNumber = document.getElementById('injured-number');

function fetchAndUpdateData() {
    // Fetch the JSON data from the server with a unique URL
    fetch(`https://maeq-tracker.rocmine.net/api/numbers.json?${Date.now()}`)
        .then(response => response.json())
        .then(data => {
            // Update the HTML elements with JSON data
            deathNumber.innerText = data.death;
            injuredNumber.innerText = data.injured;
        })
        .catch(error => {
            console.error('Error fetching JSON data:', error);
        });
}

// Initial data fetch and update
fetchAndUpdateData();

// Periodically fetch and update data every 15 seconds (15000 milliseconds)
const refreshInterval = 15000;
setInterval(fetchAndUpdateData, refreshInterval);


   </script>

    
  </body>
</html>
